# GuÃ­a Visual: Filtros de ExportaciÃ³n

## UbicaciÃ³n
Los filtros estÃ¡n en el **diÃ¡logo de exportaciÃ³n** que se abre al hacer clic en el botÃ³n "Exportar oferta".

## Estructura del DiÃ¡logo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Exportar oferta                                        [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Selecciona filtros, tipo de exportaciÃ³n y formato         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Filtros de exportaciÃ³n                              â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ CategorÃ­a                                           â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚ â”‚ Todas las categorÃ­as              â–¼        â”‚    â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ [Solo aparece si seleccionas una categorÃ­a]        â”‚   â”‚
â”‚  â”‚ Materiales especÃ­ficos (opcional)                   â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚ â”‚ â˜ Inversor Growatt 5kW SPF 5000ES    x2   â”‚    â”‚   â”‚
â”‚  â”‚ â”‚ â˜ Inversor Deye 8kW SUN-8K-SG04LP3   x1   â”‚    â”‚   â”‚
â”‚  â”‚ â”‚ â˜ Inversor Sofar 10kW HYD 10KTL      x1   â”‚    â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚ 2 material(es) seleccionado(s)                     â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ [ Limpiar filtros ]                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1) Completo  â”‚  â”‚ 2) Sin       â”‚  â”‚ 3) Cliente   â”‚    â”‚
â”‚  â”‚              â”‚  â”‚    precios   â”‚  â”‚    con       â”‚    â”‚
â”‚  â”‚ Incluye      â”‚  â”‚              â”‚  â”‚    precios   â”‚    â”‚
â”‚  â”‚ precios,     â”‚  â”‚ Solo         â”‚  â”‚              â”‚    â”‚
â”‚  â”‚ mÃ¡rgenes...  â”‚  â”‚ materiales   â”‚  â”‚ Precios por  â”‚    â”‚
â”‚  â”‚              â”‚  â”‚ y cantidades â”‚  â”‚ material...  â”‚    â”‚
â”‚  â”‚ [Excel] [PDF]â”‚  â”‚ [Excel] [PDF]â”‚  â”‚ [Excel] [PDF]â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Flujo de Uso

### Paso 1: Abrir el diÃ¡logo
Haz clic en el botÃ³n **"Exportar oferta"** en la vista de confecciÃ³n de ofertas.

### Paso 2: Seleccionar filtros (OPCIONAL)

#### OpciÃ³n A: Exportar todo (sin filtros)
- Deja "Todas las categorÃ­as" seleccionado
- Haz clic en Excel o PDF en cualquiera de las 3 opciones
- âœ… Se exporta toda la oferta

#### OpciÃ³n B: Exportar solo una categorÃ­a
1. Haz clic en el dropdown "CategorÃ­a"
2. Selecciona una categorÃ­a (ej: "Inversores")
3. Haz clic en Excel o PDF
4. âœ… Se exportan solo los inversores

#### OpciÃ³n C: Exportar materiales especÃ­ficos
1. Selecciona una categorÃ­a (ej: "Inversores")
2. Aparece la lista de materiales de esa categorÃ­a
3. Marca los checkboxes de los materiales que quieres exportar
4. Haz clic en Excel o PDF
5. âœ… Se exportan solo esos materiales especÃ­ficos

### Paso 3: Elegir tipo de exportaciÃ³n
- **Completo**: Con precios, mÃ¡rgenes, servicios y totales
- **Sin precios**: Solo materiales y cantidades
- **Cliente con precios**: Materiales, cantidades y totales (sin mÃ¡rgenes)

### Paso 4: Elegir formato
- **Excel**: Archivo .xlsx editable
- **PDF**: Archivo .pdf para imprimir o enviar

## Ejemplos PrÃ¡cticos

### Ejemplo 1: Comparar 2 inversores
```
1. Abrir "Exportar oferta"
2. CategorÃ­a: "Inversores"
3. Marcar: â˜‘ Inversor Growatt 5kW
           â˜‘ Inversor Deye 8kW
4. Clic en "PDF" en "Cliente con precios"
5. Resultado: PDF con solo esos 2 inversores y sus precios
```

### Ejemplo 2: Presupuesto solo de paneles
```
1. Abrir "Exportar oferta"
2. CategorÃ­a: "Paneles"
3. No marcar ningÃºn material (exporta todos los paneles)
4. Clic en "Excel" en "Completo"
5. Resultado: Excel con todos los paneles, precios y mÃ¡rgenes
```

### Ejemplo 3: Oferta completa (sin filtros)
```
1. Abrir "Exportar oferta"
2. CategorÃ­a: "Todas las categorÃ­as" (por defecto)
3. Clic en "PDF" en "Completo"
4. Resultado: PDF con toda la oferta
```

## CaracterÃ­sticas Especiales

### Auto-limpieza
- Los filtros se resetean automÃ¡ticamente al cerrar el diÃ¡logo
- Cada vez que abres el diÃ¡logo, empieza con "Todas las categorÃ­as"

### Contador de materiales
- Muestra cuÃ¡ntos materiales has seleccionado
- Ejemplo: "3 material(es) seleccionado(s)"

### Cantidad total
- Cada material muestra su cantidad total (ej: "x2", "x5")
- Ãštil para saber cuÃ¡ntos de cada material hay en la oferta

### BotÃ³n "Limpiar filtros"
- Solo aparece cuando hay filtros activos
- Un clic resetea todo a "Todas las categorÃ­as"

## CategorÃ­as Disponibles

Las categorÃ­as que aparecen en el dropdown son las secciones de tu oferta:
- Inversores
- BaterÃ­as
- Paneles
- MPPT
- Estructuras
- Cableado DC
- Cableado AC
- CanalizaciÃ³n
- Tierra
- Protecciones ElÃ©ctricas y Gabinetes
- Material vario
- AmpliaciÃ³n de Sistema (si existe)
- Cualquier secciÃ³n personalizada que hayas creado

## Notas Importantes

âš ï¸ **Los filtros solo afectan los materiales**
- Los servicios, transportaciÃ³n, totales y datos de pago NO se filtran
- Siempre aparecen en la exportaciÃ³n si estÃ¡n presentes en la oferta

âœ… **Los filtros funcionan en las 3 opciones**
- Completo
- Sin precios
- Cliente con precios

ğŸ”„ **Los filtros se aplican en tiempo real**
- No necesitas "aplicar" los filtros
- Se aplican automÃ¡ticamente al exportar
